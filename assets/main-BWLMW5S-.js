import{c as h,B as r,r as u,a as n,g as s,H as b,U as w,b as i,P as f,F as P,L as p}from"./render-DrpL7aGn.js";const m=e=>{const{subscribe:g,notify:o}=h(),a=()=>{const t=window.location.pathname;return t.startsWith(r)?t.slice(r.length-1)||"/":t},l=()=>e[a()],c=t=>{const d=r+(t.startsWith("/")?t.substring(1):t);window.history.pushState(null,null,d),o()};return window.addEventListener("popstate",()=>o()),{get path(){return a()},push:c,subscribe:g,getTarget:l}};u.set(m({"/":b,"/login":()=>{const{loggedIn:e}=s.getState();if(e)throw new P;return i(p,null)},"/profile":()=>{const{loggedIn:e}=s.getState();if(!e)throw new w;return i(f,null)}}));function S(){u.get().subscribe(n),s.subscribe(n),n()}S();
